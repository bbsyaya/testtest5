(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{1609:function(t,e,a){"use strict";a.d(e,"a",function(){return i});for(var n=a(172),r={},s=0,o=Object.keys(n.Transaction.Contract.ContractType);s<o.length;s++){var c=o[s];r[n.Transaction.Contract.ContractType[c]]=c}var i=r},3476:function(t,e,a){"use strict";a.r(e);var n=a(116),r=a.n(n),s=a(57),o=a.n(s),c=a(268),i=a.n(c),l=a(2),d=a.n(l),m=a(30),u=a(207),p=a(5),f=a(14),b=a(13),h=a(20),g=a(19),O=a(21),k=a(1493),y=a.n(k),v=a(0),w=a.n(v),j=a(11),E=a(384),x=a(29),T=a(16),C=a(23),_=a(389),I=a(24),P=a(1609),M=a(1441),N=a(92),S=a(1503),A=(a(1946),a(267)),D=a.n(A),z=a(280),L=a.n(z),J=a(1474),H=a(3);function Q(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function R(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Q(a,!0).forEach(function(e){Object(m.a)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Q(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}y.a.RangePicker;var U=function(t){function e(){var t;return Object(f.a)(this,e),(t=Object(h.a)(this,Object(g.a)(e).call(this))).onChange=function(e,a){t.loadTransactions(e,a)},t.loadTransactions=Object(p.a)(d.a.mark(function e(){var a,n,r,s,o,c,i,l,m,p,f,b,h,g,O,k,y,v,w,j,E,x,C,I,P,M,N,S,A,D,z=arguments;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=0<z.length&&void 0!==z[0]?z[0]:1,n=1<z.length&&void 0!==z[1]?z[1]:20,r=t.props,s=r.location,o=r.match,c=o.params.date,i=parseInt(o.params.date)-864e5,t.setState({loading:!0,page:a,pageSize:n}),l={},m=0,p=Object.entries(Object(_.b)(s));case 8:if(!(m<p.length)){e.next=21;break}f=p[m],b=Object(u.a)(f,2),h=b[0],g=b[1],e.t0=h,e.next="address"===e.t0?16:"block"===e.t0?16:18;break;case 16:return l[h]=g,e.abrupt("break",18);case 18:m++,e.next=8;break;case 21:if(i)return e.next=27,T.b.getTransactions({sort:"-timestamp",date_start:i,date_to:c});e.next=30;break;case 27:e.sent,e.next=46;break;case 30:if(L.a.parse(s.search).address)return e.next=34,Promise.all([T.b.getTransactions(R({sort:"-timestamp",limit:n,start:(a-1)*n},l)),T.b.getTransactions(R({limit:0},l))]).catch(function(t){console.log("error:"+t)});e.next=40;break;case 34:O=e.sent,k=Object(u.a)(O,2),y=k[0],v=y.transactions,w=y.contractMap,j=k[1],E=j.rangeTotal,x=j.total,v.forEach(function(t){w&&(w[t.ownerAddress]?t.ownerIsContract=!0:t.ownerIsContract=!1,w[t.toAddress]?t.toIsContract=!0:t.toIsContract=!1)}),t.setState({total:x,transactions:v,addressLock:!0,rangeTotal:E}),e.next=46;break;case 40:return e.next=42,Promise.all([T.b.getTransactions(R({sort:"-timestamp",limit:n,start:(a-1)*n,start_timestamp:t.start,end_timestamp:t.end},l)),T.b.getTransactions(R({limit:0},l))]).catch(function(t){console.log("error:"+t)});case 42:C=e.sent,I=Object(u.a)(C,2),P=I[0],M=P.transactions,N=P.contractMap,S=I[1],A=S.wholeChainTxCount,D=S.total,M.forEach(function(t){N&&(N[t.ownerAddress]?t.ownerIsContract=!0:t.ownerIsContract=!1,N[t.toAddress]?t.toIsContract=!0:t.toIsContract=!1)}),t.setState({total:D,transactions:M,addressLock:!1,rangeTotal:A});case 46:t.setState({loading:!1});case 47:case"end":return e.stop()}},e)})),t.customizedColumn=function(){var e=t.props.intl;return[{title:"#",dataIndex:"hash",key:"hash",align:"left",className:"ant_table",width:"12%",render:function(t){return w.a.createElement(I.a,null,w.a.createElement(C.h,{hash:t},t))}},{title:i()(e.formatMessage({id:"block"})),dataIndex:"block",key:"block",align:"left",className:"ant_table",render:function(t){return w.a.createElement(C.b,{number:t})}},{title:i()(e.formatMessage({id:"created"})),dataIndex:"timestamp",key:"timestamp",align:"left",render:function(t){return w.a.createElement(J.a,{time:t})}},{title:i()(e.formatMessage({id:"status"})),dataIndex:"confirmed",key:"confirmed",align:"left",className:"ant_table",width:"14%",render:function(t){return t?w.a.createElement("span",null,w.a.createElement("img",{style:{width:"20px",height:"20px"},src:a(1495)})," ",Object(H.c)("full_node_version_confirmed")):w.a.createElement("span",null,w.a.createElement("img",{style:{width:"20px",height:"20px"},src:a(1496)})," ",Object(H.c)("full_node_version_unconfirmed"))}},{title:i()(e.formatMessage({id:"address"})),dataIndex:"ownerAddress",key:"ownerAddress",align:"left",width:"30%",className:"ant_table",render:function(t,a){return w.a.createElement("span",null,a.ownerIsContract?w.a.createElement("span",{className:"d-flex"},w.a.createElement(r.a,{placement:"top",title:i()(e.formatMessage({id:"transfersDetailContractAddress"}))},w.a.createElement(o.a,{type:"file-text",style:{verticalAlign:0,color:"#77838f",lineHeight:1.4}})),w.a.createElement(C.a,{address:t,isContract:!0})):w.a.createElement(C.a,{address:t}))}},{title:i()(e.formatMessage({id:"transaction_type"})),dataIndex:"contractType",key:"contractType",align:"right",className:"ant_table",render:function(t){return w.a.createElement("span",null,P.a[t]&&Object(H.c)("transaction_".concat(P.a[t])))}}]},t.start=D()([2018,5,25]).startOf("day").valueOf(),t.end=D()().valueOf(),t.state={transactions:[],total:0,contractMap:{}},t.addressLock=!1,t}return Object(O.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){this.loadTransactions()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.location;e.match,a.search!==t.location.search&&this.loadTransactions()}},{key:"onDateOk",value:function(t,e){this.start=t.valueOf(),this.end=e.valueOf();var a=this.state,n=a.page,r=a.pageSize;this.loadTransactions(n,r)}},{key:"render",value:function(){var t=this,e=this.state,a=e.transactions,n=e.total,r=e.rangeTotal,s=e.loading,o=e.addressLock,c=(e.dateStart,e.dateEnd,this.props),i=(c.match,c.intl,this.customizedColumn());return w.a.createElement("main",{className:"container header-overlap pb-3 token_black"},s&&w.a.createElement("div",{className:"loading-style"},w.a.createElement(N.b,null)),w.a.createElement("div",{className:"row"},w.a.createElement("div",{className:"col-md-12 table_pos"},n?w.a.createElement(S.a,{total:n,rangeTotal:r,typeText:"transactions_unit",common:o,isQuestionMark:!1}):"","",w.a.createElement(M.a,{bordered:!0,loading:s,column:i,data:a,total:n,onPageChange:function(e,a){t.loadTransactions(e,a)}}))))}}]),e}(w.a.Component),q={loadTokens:E.b};e.default=Object(x.connect)(function(t){return{}},q)(Object(j.h)(U))}}]);